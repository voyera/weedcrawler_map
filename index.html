<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="description" content="Find cannabis stores near you with WeedCrawler's interactive store locator">
    <meta name="theme-color" content="#4CAF50">
    <title>WeedCrawler Store Locator</title>
    
    <style>
        /* Mobile-first responsive styles */
        body {
            margin: 0;
            padding: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background-color: #f5f5f5;
        }
        
        #map-container {
            width: 100%;
            height: 100vh;
            min-height: 400px;
        }
        
        /* Mobile optimizations */
        @media (max-width: 768px) {
            #map-container {
                height: calc(100vh - 20px);
                margin: 10px;
                border-radius: 8px;
                box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            }
        }
        
        /* Prevent zoom on input focus for iOS */
        @media screen and (-webkit-min-device-pixel-ratio: 0) {
            input, select, textarea {
                font-size: 16px;
            }
        }
    </style>
</head>
<body>
    <div id="map-container"></div>
    
    <script src="cannabis-store-map.1.0.0.js"></script>
    <script>
        // Load stores from WeedCrawler API
        const map = CannabisStoreMap.createFromAPI(
            'map-container',
            'https://api.weedcrawler.ca/map/3f84ee30001a0a00f99945627b604bab0383abee5232f732',
            {
                title: 'Find Cannabis Stores',
                height: '100%', // Use full container height
                zoom: 6,
                provinces: ['ON'],
                center: [43.6532, -79.3832], // Center on Toronto for Ontario
                theme: 'light', // Start with light theme (default)
                showThemeToggle: true // Enable theme toggle button
            }
        );
        
        // Handle mobile-specific behaviors
        if ('ontouchstart' in window) {
            // Mobile device detected
            console.log('Mobile device detected - optimizing for touch');
        }
    </script>
</body>
</html>